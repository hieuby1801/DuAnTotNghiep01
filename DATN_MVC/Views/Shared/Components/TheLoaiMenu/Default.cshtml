@model List<TheLoai>

<li class="nav-item dropdown position-static">
	<a href="javascript:void(0)"
	   class="nav-link dropdown-toggle me-4"
	   id="megaMenuDropdown"
	   role="button"
	   data-bs-toggle="dropdown"
	   aria-expanded="false"
	   ondblclick="redirectToAllProducts()">
		<i class="bi bi-book-half me-2"></i>
		Sản Phẩm
	</a>

	<div class="dropdown-menu w-100 mt-0 border-0 shadow-lg rounded-3" aria-labelledby="megaMenuDropdown">
		<div class="container">
			<div class="row py-4">
				<div class="col-md-4">

					<h6 class="text-uppercase mb-3 text-primary">Danh mục</h6>
					<ul class="list-unstyled">
						@foreach (var tl in Model)
						{
							<li>
								<a id="megaMenuDropdown" class="dropdown-item py-2"
								   asp-action="TimSach"
								   asp-controller="Sach"
								   asp-route-Tentheloai="@tl.TenTheLoai">
									@tl.TenTheLoai
								</a>
							</li>
						}
					</ul>

				</div>

				<div class="col-md-4">
					<h6 class="text-uppercase mb-3 text-primary">Nổi bật</h6>
					<ul class="list-unstyled">
						<li><a class="dropdown-item py-2" href="#">Sách mới phát hành</a></li>
						<li><a class="dropdown-item py-2" href="#">Bán chạy nhất</a></li>
						<li><a class="dropdown-item py-2" href="#">Khuyến mãi</a></li>
					</ul>
				</div>

				<div class="col-md-4">
					<h6 class="text-uppercase mb-3 text-primary">Hỗ trợ</h6>
					<ul class="list-unstyled">
						<li><a class="dropdown-item py-2" href="#">Hướng dẫn mua hàng</a></li>
						<li><a class="dropdown-item py-2" href="#">Chính sách đổi trả</a></li>
						<li><a class="dropdown-item py-2" href="#">Liên hệ</a></li>
					</ul>
				</div>
			</div>
		</div>
	</div>
</li>
<script>
	document.addEventListener("DOMContentLoaded", function () {
		let clickCount = 0;
		let clickTimer;

		const sanPhamLink = document.getElementById("megaMenuDropdown");

		sanPhamLink.addEventListener("click", function () {
			clickCount++;

			clearTimeout(clickTimer);

			clickTimer = setTimeout(() => {
				if (clickCount >= 2) {
					// Điều hướng sau 2 lần click
					window.location.href = '@Url.Action("LaySach", "Sach")';
				}
				clickCount = 0; // reset lại
			}, 300); // thời gian đợi giữa 2 lần click
		});
	});
</script>


<link href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap" rel="stylesheet">
<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="~/js/site.js" asp-append-version="true"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
